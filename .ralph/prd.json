{
  "version": 1,
  "tasks": [
    {
      "id": "T101",
      "title": "Create suite.yaml for logagg suite",
      "details": "Create evals/suites/logagg/suite.yaml config file for the existing log aggregator test suite. Include name, description, requirements path (examples/log_aggregator_requirements.md), language (go), timeout, and test commands referencing the existing run_tests.sh.",
      "priority": "high",
      "status": "done",
      "tests": "suite.yaml exists at evals/suites/logagg/suite.yaml with valid YAML structure containing name, description, requirements, language, and tests fields"
    },
    {
      "id": "T102",
      "title": "Create suite.yaml for flask suite",
      "details": "Create evals/suites/flask/suite.yaml config file for the Flask test suite. Include name, description, requirements path (examples/flask_requirements.md), language (python), timeout, setup commands, and test commands.",
      "priority": "high",
      "status": "done",
      "tests": "suite.yaml exists at evals/suites/flask/suite.yaml with valid YAML structure"
    },
    {
      "id": "T103",
      "title": "Create suite.yaml for tasktracker suite",
      "details": "Create evals/suites/tasktracker/suite.yaml config file for the Task Tracker API test suite. Include name, description (REST API with JWT auth, 4 models, ~15 endpoints), requirements path (examples/task_tracker_requirements.md), language (python), timeout (2h), setup commands, and test commands.",
      "priority": "high",
      "status": "done",
      "tests": "suite.yaml exists at evals/suites/tasktracker/suite.yaml with valid YAML structure"
    },
    {
      "id": "T104",
      "title": "Create Go YAML loader for suite configs",
      "details": "Create internal/eval/suite.go with SuiteConfig struct and LoadSuite(suiteName string) function to parse suite.yaml files. Use gopkg.in/yaml.v3. Struct should include: Name, Description, Requirements, Language, Timeout, Setup []string, Tests struct with Shared []string.",
      "priority": "high",
      "status": "done",
      "tests": "go build succeeds; unit test loads sample suite.yaml and verifies all fields parsed correctly"
    },
    {
      "id": "T105",
      "title": "Update run.sh to read from suite.yaml",
      "details": "Modify evals/run.sh to read requirements path and test commands from suite.yaml instead of the hardcoded case statement. Use yq or simple grep/sed to parse YAML. Fall back to existing behavior if suite.yaml doesn't exist for backwards compatibility.",
      "priority": "high",
      "status": "done",
      "tests": "./evals/run.sh logagg ralph works by reading from suite.yaml; existing behavior preserved if no suite.yaml"
    },
    {
      "id": "T106",
      "title": "Standardize result JSON schema in run.sh",
      "details": "Update evals/run.sh to output results in the standardized JSON format: {suite, approach, model, timestamp (ISO 8601), duration_seconds, total_calls, input_tokens, output_tokens, total_tokens, cost_usd, shared_tests_passed, shared_tests_total, files_generated, lines_generated, output_dir}. Save to evals/results/\u003csuite\u003e-\u003capproach\u003e-\u003cmodel\u003e-\u003ctimestamp\u003e.json.",
      "priority": "high",
      "status": "done",
      "tests": "Running an eval produces JSON file in evals/results/ with all required fields in correct format"
    },
    {
      "id": "T107",
      "title": "Add ralph eval subcommand to main.go",
      "details": "Add 'eval' case to the switch statement in cmd/ralph/main.go that calls evalCmd(os.Args[2:]). Update printUsage() to include eval command with description 'Run evaluation suites against ralph and oneshot approaches'.",
      "priority": "high",
      "status": "done",
      "tests": "ralph eval shows help; ralph help includes eval command"
    },
    {
      "id": "T108",
      "title": "Create cmd_eval.go with eval subcommands",
      "details": "Create cmd/ralph/cmd_eval.go implementing evalCmd() that routes to: 'run' (calls evals/run.sh with args), 'compare' (calls evals/compare_evals.sh), 'list' (discovers suites by scanning evals/suites/*/suite.yaml). Parse flags: --approach, --model for run subcommand.",
      "priority": "high",
      "status": "done",
      "tests": "ralph eval list shows available suites; ralph eval run flask --approach ralph executes run.sh; ralph eval compare flask executes compare_evals.sh"
    },
    {
      "id": "T109",
      "title": "Update compare_evals.sh for new result format",
      "details": "Update evals/compare_evals.sh to read the standardized JSON result format. Add logic to find latest results for a suite by pattern matching filenames in evals/results/.",
      "priority": "medium",
      "status": "done",
      "tests": "compare_evals.sh correctly parses new JSON format and extracts all metrics"
    },
    {
      "id": "T110",
      "title": "Improve comparison table output format",
      "details": "Update evals/compare_evals.sh to print a formatted ASCII table with box-drawing characters. Show columns: Metric, Ralph, Oneshot, Winner. Include percentage difference in Winner column. Add summary line at bottom.",
      "priority": "medium",
      "status": "done",
      "tests": "Running compare_evals.sh produces formatted table matching spec with Duration, Total Tokens, Cost, Shared Tests rows and percentage differences"
    },
    {
      "id": "T111",
      "title": "Create tasktracker pytest fixtures",
      "details": "Create evals/suites/tasktracker/tests/conftest.py with pytest fixtures for API testing. Include: base_url fixture (default localhost:8000), auth_headers fixture that registers a user and returns JWT token, api_client fixture using requests session.",
      "priority": "medium",
      "status": "done",
      "tests": "conftest.py exists with base_url, auth_headers, and api_client fixtures; pytest can import fixtures"
    },
    {
      "id": "T112",
      "title": "Create tasktracker auth tests",
      "details": "Create evals/suites/tasktracker/tests/test_auth.py with 5-7 tests covering: user registration, login returns JWT, invalid credentials rejected, protected routes require auth, token refresh if applicable. Tests should be implementation-agnostic.",
      "priority": "medium",
      "status": "done",
      "tests": "test_auth.py contains at least 5 test functions; tests validate API contract not implementation details"
    },
    {
      "id": "T113",
      "title": "Create tasktracker CRUD tests",
      "details": "Create evals/suites/tasktracker/tests/test_tasks.py with 8-10 tests covering: create task, list tasks, get task by id, update task, delete task, filter by status, task belongs to user, invalid task id handling. Tests should be implementation-agnostic.",
      "priority": "medium",
      "status": "done",
      "tests": "test_tasks.py contains at least 8 test functions covering CRUD operations on tasks endpoint"
    },
    {
      "id": "T114",
      "title": "Create flask test suite directory and tests",
      "details": "Create evals/suites/flask/tests/ directory with conftest.py and test files. Include 5-10 pytest tests covering basic Flask app functionality based on flask_requirements.md: health endpoint, basic routes, request handling.",
      "priority": "medium",
      "status": "done",
      "tests": "evals/suites/flask/tests/ exists with conftest.py and test_*.py files; pytest discovers and can run tests"
    },
    {
      "id": "T115",
      "title": "Ensure evals/results/ is gitignored",
      "details": "Add evals/results/ to .gitignore if not already present. Create the directory if it doesn't exist. Ensure result JSON files are not committed.",
      "priority": "low",
      "status": "todo",
      "tests": "evals/results/ in .gitignore; git status does not show result JSON files as untracked"
    },
    {
      "id": "T116",
      "title": "Update evals README documentation",
      "details": "Update evals/README.md to document: new suite.yaml format, ralph eval CLI usage (list, run, compare), result JSON schema, how to add a new suite. Include examples.",
      "priority": "low",
      "status": "todo",
      "tests": "README.md documents suite.yaml format, ralph eval commands, and how to add new suites"
    }
  ]
}